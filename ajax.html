<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?705614b34552f4701f822df72647c3c0";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    <link rel="stylesheet" href="index.css">
    <base target="_blank" />
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" type="text/css" href="./放大镜字体图标/iconfont.css">
    <link rel="stylesheet" type="text/css" href="./倒三角字体图标/iconfont.css">
    <link rel="stylesheet" href="./bootstrap-3.3.7.css">
    <script src="./vue-2.4.0.js"></script>
    <script src="vue-resource-1.3.4.js"></script>
    <title>我喜欢的歌曲</title>
    <style>
        [v-cloak]{
            display: none;
        }
        .app {
            height: 800px;
        }
        .app .table th,td{
            color: black!important;
        }
        .app .panel label {
            color: black!important;
        }
    </style>
</head>

<body>
    <div class="nav">
        <div class="zhuti">
            <h1 class="logo" style="visibility: hidden">
                <a href="https://music.163.com/">hwwwenr 小小幸运鹅 </a>
            </h1>
            <ul class="list1">
                <li>
                    <a href="./lunbo.html">发现音乐</a>
                </li>
                <li>
                    <a href="#">我的音乐</a>
                </li>
                <li>
                    <a href="#">朋友</a>
                </li>
                <li>
                    <a href="#">商城</a>
                </li>
                <li>
                    <a href="#">音乐人</a>
                </li>
                <li>
                    <a href="#">下载客户端</a>
                    <div class="hot"></div>
                </li>

            </ul>

            <span id="fdj" class="iconfont icon-fangdajing"></span>
            <div class="touxiang">
                <img src="./images/avatar.PNG" alt="用户头像" width="30" height="30" class="myavatar">
                <span id="daosanjiao" class="iconfont icon-zelvxuanzefeiyongdaosanjiaoxingfandui"></span>
                <div class="list" style="display: none;  ">
                    <ul>
                        <li>
                            <a href="#">我的主页</a></li>
                    </ul>
                </div>
            </div>
            <a href="https://music.163.com/st/creator#/" class="creator">创作者中心</a>
            <input type="text" id="search" placeholder="音乐/视频/电台/用户">
        </div>
    </div>
    </div>

    <div class="app zhuti">

        <div class="panel panel-danger" style="margin-top: 5px;">
            <div class="panel-heading">
                <h3 class="panel-title">Arwin喜欢的歌曲</h3>
            </div>
            <div class="panel-body form-inline">
                <label>
                    title:
                    <input type="text" class="form-control" v-model="mytitle">
                </label>
                <label>
                    time:
                    <input type="text" class="form-control" v-model="mytime">
                </label>

                <label>
                    singer:
                    <input type="text" class="form-control" v-model="mysinger">
                </label>
                <label>
                    album:
                    <input type="text" class="form-control" v-model="myalbum">
                </label>

                <button type="button" class="btn btn-danger" @click="add()">添加歌曲</button>

            </div>
        </div>

        <table class="table table-hover table-bordered">
            <thead>
                <tr>
                    <th>歌曲标题</th>
                    <th>时长</th>
                    <th>歌手</th>
                    <th>专辑</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="(ele,index) in songs" :key="index">
                    <td v-cloak>{{ele.title}}</td>
                    <td v-cloak>{{ele.time}}</td>
                    <td v-cloak>{{ele.singer}}</td>
                    <td v-cloak>{{ele.album}}</td>
                </tr>
            </tbody>
        </table>

    </div>
    <script>
        Vue.http.options.emulateJSON = true;

        var vm = new Vue({
            el: '.app',
            data: {
                songs: [],
                mytitle: '',
                mytime: '',
                mysinger: '',
                myalbum: ''

            },
            created() {
                this.getAllSongs();
            },
            methods: {
                getAllSongs() {
                    this.$http.get('http://arwin521.top/myphp.php').then(result => {
                        this.songs = result.body;
                        console.log(this.songs);
                    })
                }
                // add() {
                //     this.$http.post('http://arwin521.top/myphp.php', { "mytitle": this.mytitle, "mytime": this.mytime, "mysinger": this.mysinger, "myalbum": this.myalbum }).then(result => {
                //         this.getAllSongs();
                //         this.mytitle = '';
                //         this.mytime = '';
                //         this.mysinger = '';
                //         this.myalbum = '';

                //     })
                // }

            }
            
        })


    </script>


</body>

</html>